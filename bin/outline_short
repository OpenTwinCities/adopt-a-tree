#!/bin/bash

file_he='log/1-file_list-helpers.txt'
file_lib='log/1-file_list-lib.txt'
file_mo='log/1-file_list-models.txt'
file_co='log/1-file_list-controllers.txt'
file_vi='log/1-file_list-views.txt'

echo '----------------------'
echo 'bundle install --quiet'
bundle install --quiet

echo '-----------------------------'
echo 'bundle exec annotate --routes'
bundle exec annotate --routes

echo '--------------------'
echo 'bundle exec annotate'
bundle exec annotate

echo '------------------------------------'
echo 'Listing the helper files in the file'
echo $file_he
echo 'This file was AUTOMATICALLY generated by the docker/outline_short script.' > $file_he
echo '-------------------' >> $file_he
echo 'HELPERS' >> $file_he
tree spec/helpers >> $file_he
echo '' >> $file_he
tree app/helpers >> $file_he
echo '' >> $file_he

echo '---------------------------------'
echo 'Listing the lib files in the file'
echo $file_lib
echo 'This file was AUTOMATICALLY generated by the docker/outline_short script.' > $file_lib
echo '-------------------' >> $file_lib
echo 'LIB' >> $file_lib
tree spec/lib >> $file_lib
echo '' >> $file_lib
tree lib >> $file_lib
echo '' >> $file_lib

echo '-------------------------------'
echo 'Listing the model files in file'
echo $file_mo
echo 'This file was AUTOMATICALLY generated by the docker/outline_short script.' > $file_mo
echo '------' >> $file_mo
echo 'MODELS' >> $file_mo
tree spec/models >> $file_mo
echo '' >> $file_mo
tree spec/factories >> $file_mo
echo '' >> $file_mo
tree app/models >> $file_mo

echo 'This file was AUTOMATICALLY generated by the docker/outlineshort script.' > $file_co
echo '-----------' >> $file_co
echo 'CONTROLLERS' >> $file_co
tree spec/controllers >> $file_co
echo '' >> $file_co
tree app/controllers >> $file_co

echo 'This file was AUTOMATICALLY generated by the docker/outlineshort script.' > $file_vi
echo '---------------------------' >> $file_vi
echo 'VIEWS AND INTEGRATION TESTS' >> $file_vi
echo '' >> $file_vi
echo '----------------' >> $file_vi
echo 'config/routes.rb' >> $file_vi
cat config/routes.rb >> $file_vi
echo '----------------' >> $file_vi
tree spec/features >> $file_vi
echo '' >> $file_vi
tree app/views >> $file_vi

echo 'FINISHED compiling the list of files that make up the MVC structure'
echo '-------------------------------------------------------------------'

echo '*******************************'
echo 'bin/outline_short OUTPUT FILES:'
echo $file_he
echo $file_lib
echo $file_mo
echo $file_co
echo $file_vi
echo
